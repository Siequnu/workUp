{% extends "header.html" %}

{% block app_content %}

{% if current_user.is_anonymous %}	
	<div class="jumbotron">
		
  <h1 class="display-4">workUp - Peer Review</h1>
  <p class="lead">workUp is a web app that distributes work for peer review.</p>
  <hr class="my-4">
  <p>It allows students to track assignments and receive randomised work for peer review.</p>
  <a class="btn btn-primary btn-lg" href="{{url_for('user.register')}}" role="button">Student registration</a>
	</div>
	<hr>
	<br /><br />
             
{% elif admin %}
	<div class="row">
        
			<h1>Hi, Administrator {{ current_user.username }}!</h1>
				
    </div>
	
	<hr>
	<br /><br />
	<div class="card-deck">
	 <div class="card bg-light mb-2" style="max-width: 20rem;">
		<div class="card-header">Class admin
		</div>
    <div class="card-body">
      <h5 class="card-title">Add or remove classes, and edit class information.</h5><hr>
      <p><a class="btn btn-primary" href="{{url_for('admin.classAdmin')}}" role="button">Class admin</a></p>
			<a class="btn btn-primary" href="{{url_for('admin.createClass')}}" role="button">Create new class</a>
			
    </div>
  </div>
	 
	 <div class="card bg-light mb-2" style="max-width: 20rem;">
		<div class="card-header">Peer review forms
		</div>
    <div class="card-body">
      <h5 class="card-title">Add or remove peer review forms.</h5><hr>
      <p><a class="btn btn-primary" href="{{url_for('main.addPeerReviewForm')}}" role="button">New peer review form</a></p>
			<a class="btn btn-primary" href="{{url_for('main.peerReviewFormAdmin')}}" role="button">Manage peer review forms</a>
    </div>
  </div>
	 
	 <div class="card bg-light mb-2" style="max-width: 20rem;">
		<div class="card-header">Create assignment
		</div>
    <div class="card-body">
      <h5 class="card-title">Create a new assignment</h5><hr>
			<p><a class="btn btn-primary" href="{{url_for('admin.createAssignment')}}" role="button">Create assignment</a></p>
			<p><a class="btn btn-primary" href="{{url_for('assignments.view_assignments')}}" role="button">Manage assignments</a></p>
    </div>
  </div>	 
</div>
	
	<br /><br />
	<div class="card-deck">
	 <div class="card bg-light mb-2" style="max-width: 20rem;">
		<div class="card-header">User admin
		</div>
    <div class="card-body">
      <h5 class="card-title">Manage users</h5><hr>
			<p><a class="btn btn-primary" href="{{url_for('admin.register_admin')}}" role="button">Create new admin</a></p>
			<a class="btn btn-primary" href="{{url_for('admin.manage_users')}}" role="button">Manage users</a>		
    </div>
  </div>
	
{% else %}
		
	<div class="row">
         <div class="container"> 
			<h1 class="text-warning">Hi, {{ current_user.username }}!</h1>
	</div>
				 </div>
	 <hr>
	<br /><br />
<div class="card-deck">
	 <div class="card bg-light mb-2" style="max-width: 20rem;">
		<div class="card-header">Your info
		</div>
    <div class="card-body">
      
      <h5 class="card-title">You have uploaded {{numberOfUploads}} assignments.</h5>
      <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
    </div>
  </div>
	 
	 <div class="card bg-light mb-2" style="max-width: 20rem;">
		<div class="card-header">Peer reviews
		</div>
    <div class="card-body">
      
      <h5 class="card-title">Your essays have been reviewed {{numberOfUploads}} times.</h5>
      <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
    </div>
  </div>
</div>

	<br />
	<div class="card-deck">
	<div class="card">
  <div class="card-header">
    <h4>Assignments completion</h4>
  </div>
  <div class="card-body">
     <div class="progress">
      {% if assignmentUploadProgressBarPercentage==100 %}
			<div class="progress-bar progress-bar" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:{{assignmentUploadProgressBarPercentage}}%" id='width'>
				{{assignmentUploadProgressBarPercentage}}%
			{% else %}
			<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:{{assignmentUploadProgressBarPercentage}}%" id='width'>
			  {{assignmentUploadProgressBarPercentage}}%
			{% endif %}
      </div>
    </div>
  </div>
</div>
	
	
	<div class="card">
  <div class="card-header">
    <h4>Peer review completion</h4>
  </div>
  <div class="card-body">
     <div class="progress">
      {% if peerReviewProgressBarPercentage==100 %}
			<div class="progress-bar progress-bar" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:{{peerReviewProgressBarPercentage}}%" id='width'>
				{{peerReviewProgressBarPercentage}}%
			{% else %}
			<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:{{peerReviewProgressBarPercentage}}%" id='width'>
			  {{peerReviewProgressBarPercentage}}%
			{% endif %}
      </div>
    </div>
</div>
		 </div>
	
	</div>
	
{% endif %}				

{% endblock %}