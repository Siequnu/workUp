{% extends "header.html" %}
{% from 'bootstrap/form.html' import render_form %}

{% block app_content %}
<div class="container">
<br>


{% block body %}

 <div class="container">

 <div class="card bg-light mb-3" style="max-width: 25rem;">
  <div class="card-body">
    <h1>Manage users</h1>
    <hr>
    <a href="{{url_for('user.register_admin')}}" <button class="btn btn-primary"><i class="fa fa-plus-circle"></i> Create new admin</button></a>
    <br>
    
  </div>
  </div>
      
      <div class="table-responsive">
            <table summary="User table" class="table table-bordered table-hover">
           <thead>
              <tr>
              <th>ID</th>
              <th>Username</th>
              <th>Email</th>
        		  <th>Class</th>
        		  <th>Last seen</th>
        		  <th>Registered</th>
        		  <th>Email Confirmed</th>
        		  <th>Is Admin</th>
        		  <th>Actions</th>
            </tr>
          </thead>
		  <tbody>
			{% for user in user_data %}
            <tr>
              <td>{{user.id}}</td>
              <td>{{user.username}}</td>
              <td>{{user.email}}</td>
              <td>{{user.turma_id}}</td>
              <td>{{user.last_seen.strftime('%d %b %H:%M:%S')}}</td>
              <td>{{user.registered.strftime('%d %b %H:%M:%S')}}</td>
              <td>{{user.email_confirmed}}</td>
              <td>{{user.is_admin}}</td>
              <td>
               <a href="{{url_for('user.give_admin_rights', user_id = user.id)}}" class="btn btn-outline-primary btn-sm" role="button">Make admin</a>
               <p></p>
               <p><a href="{{url_for('user.remove_admin_rights', user_id = user.id)}}" class="btn btn-outline-danger btn-sm" role="button">Remove admin</a></p>
              </td>
            </tr>
           {% endfor %}
          </tbody>
          <tfoot>
            <tr>
            </tr>
          </tfoot>
        </table>
      </div><!--end of .table-responsive-->
      
 
 
</div>
</div>
{% endblock %}
</div>
{% endblock %}